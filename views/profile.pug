extends templates/base.pug

block js
  script(type='application/javascript' src='/static/openpgp.min.js' charset='utf-8')
  script(type='application/javascript' src='/static/doip.js' charset='utf-8')
  script(type='application/javascript' src='/static/dialog-polyfill.js' charset='utf-8')
  script(type='application/javascript' src='/static/scripts.js' charset='utf-8')

block css
  link(rel='stylesheet' href='/static/dialog-polyfill.css')

block content
  section.profile.narrow
    noscript
      p Keyoxide requires JavaScript to function.
    span#profileUid(style='display: none;') #{uid}
    span#profileServer(style='display: none;') #{server}
    span#profileMode(style='display: none;') #{mode}

    dialog#dialog--encryptMessage
      div
        form(method='post')
          textarea.input(name='message' placeholder='Message')
          input(type='submit' name='submit' value='ENCRYPT MESSAGE')
          textarea.output(name='message' placeholder='Waiting for input' readonly)
        form(method="dialog")
          input(type="submit" value="Close")

    dialog#dialog--verifySignature
      div
        form(method='post')
          textarea.input(name='signature' placeholder='Signature')
          input(type='submit' name='submit' value='VERIFY SIGNATURE')
          textarea.output(name='message' placeholder='Waiting for input' readonly)
        form(method="dialog")
          input(type="submit" value="Close")

    #profileDialogs

    if (mode == 'sig')
      #profileSigInput.card.card--form
        form#formGenerateSignatureProfile(method='post')
          label(for="plaintext_input")  Please enter the raw profile signature below and press "Generate profile".
          textarea#plaintext_input(name='plaintext_input')
          input(type='submit', name='submit', value='Generate profile')

    #profileHeader.card.card--profileHeader

    #profileProofs.card
      if (mode == 'sig')
        //- p Waiting for input&mldr;
      else
        p Loading keys &amp; verifying proofs&mldr;
